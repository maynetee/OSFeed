============================= test session starts ==============================
platform darwin -- Python 3.9.6, pytest-8.4.2, pluggy-1.6.0 -- /Users/mendel/side_pro/OSFeed/.auto-claude/worktrees/tasks/016-fix-role-escalation-vulnerability-in-user-registra/backend/venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/mendel/side_pro/OSFeed/.auto-claude/worktrees/tasks/016-fix-role-escalation-vulnerability-in-user-registra/backend
configfile: pytest.ini
plugins: anyio-4.12.1, asyncio-1.2.0
asyncio: mode=auto, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 7 items

tests/test_auth_role_escalation.py::test_register_default_role_is_viewer PASSED [ 14%]
tests/test_auth_role_escalation.py::test_register_with_admin_role_ignored PASSED [ 28%]
tests/test_auth_role_escalation.py::test_register_with_analyst_role_ignored PASSED [ 42%]
tests/test_auth_role_escalation.py::test_existing_admin_users_unaffected PASSED [ 57%]
tests/test_auth_role_escalation.py::test_register_with_superuser_flag_ignored PASSED [ 71%]
tests/test_auth_role_escalation.py::test_register_with_is_verified_flag_ignored PASSED [ 85%]
tests/test_auth_role_escalation.py::test_register_with_multiple_privilege_escalation_attempts PASSED [100%]

=============================== warnings summary ===============================
venv/lib/python3.9/site-packages/urllib3/__init__.py:35
  /Users/mendel/side_pro/OSFeed/.auto-claude/worktrees/tasks/016-fix-role-escalation-vulnerability-in-user-registra/backend/venv/lib/python3.9/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
    warnings.warn(

tests/test_auth_role_escalation.py::test_register_default_role_is_viewer
tests/test_auth_role_escalation.py::test_register_with_admin_role_ignored
tests/test_auth_role_escalation.py::test_register_with_analyst_role_ignored
tests/test_auth_role_escalation.py::test_register_with_superuser_flag_ignored
tests/test_auth_role_escalation.py::test_register_with_is_verified_flag_ignored
tests/test_auth_role_escalation.py::test_register_with_multiple_privilege_escalation_attempts
  /Users/mendel/side_pro/OSFeed/.auto-claude/worktrees/tasks/016-fix-role-escalation-vulnerability-in-user-registra/backend/app/auth/users.py:112: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    user_dict = user_create.dict() if hasattr(user_create, 'dict') else user_create.model_dump()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 7 passed, 7 warnings in 5.49s =========================
