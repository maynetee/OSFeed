# ===========================================
# OSFeed - Variables d'environnement
# ===========================================
# Copiez ce fichier vers .env et remplissez les valeurs

# ----- PostgreSQL -----
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=osfeed_db
POSTGRES_USER=osfeed_user
POSTGRES_PASSWORD=your_secure_password
# URL complète (utilisée par MCP et l'application)
POSTGRES_CONNECTION_STRING=postgresql://osfeed_user:your_secure_password@localhost:5432/osfeed_db

# Pour le développement local sans PostgreSQL (utilise SQLite)
USE_SQLITE=false

# ----- Telegram API -----
# Obtenez vos credentials sur https://my.telegram.org
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_PHONE=+33600000000

# Rate limiting pour éviter les bans Telegram
TELEGRAM_MAX_RETRIES=5
TELEGRAM_BASE_DELAY=1.0
TELEGRAM_MAX_DELAY=300.0
TELEGRAM_JITTER=true
TELEGRAM_CONCURRENT_CHANNELS=3

# ----- Qdrant (Base vectorielle) -----
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=osfeed-embeddings
QDRANT_DISTANCE=cosine
QDRANT_TIMEOUT_SECONDS=5.0

# ----- Redis (Cache) -----
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL_SECONDS=86400

# ----- OpenAI (GPT-4o-mini) -----
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini

# ----- Gemini (cost-effective translation) -----
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash

# ----- Translation Routing -----
TRANSLATION_DEFAULT_MODEL=gemini-flash
TRANSLATION_HIGH_PRIORITY_MODEL=gpt-4o-mini
TRANSLATION_CACHE_BASE_TTL=604800
TRANSLATION_CACHE_MAX_TTL=2592000

# ----- OpenRouter (Alternative LLM) -----
OPENROUTER_API_KEY=your_openrouter_api_key
OPENROUTER_MODEL=meta-llama/llama-3.1-8b-instruct:free

# ----- Application -----
APP_ENV=development
APP_DEBUG=true
PREFERRED_LANGUAGE=fr
SUMMARY_TIME=08:00
SCHEDULER_ENABLED=true

# Audit logs retention
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_LOG_PURGE_TIME=02:30

# API usage tracking (LLM cost monitoring)
API_USAGE_TRACKING_ENABLED=true
LLM_COST_INPUT_PER_1K=0.0
LLM_COST_OUTPUT_PER_1K=0.0

# ----- Authentification JWT -----
# IMPORTANT: Générez une clé sécurisée avec: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=generate_a_secure_random_key_minimum_32_characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----- API Server -----
API_HOST=0.0.0.0
API_PORT=8000

# ----- Frontend -----
FRONTEND_URL=http://localhost:5173
VITE_API_URL=http://localhost:8000
