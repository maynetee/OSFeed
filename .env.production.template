# ===========================================
# OSFeed - Configuration Production
# ===========================================
# IMPORTANT: Remplissez TOUTES les valeurs marquees <...>

# ----- PARAMETRES OBLIGATOIRES -----
DOMAIN=<VOTRE_DOMAINE>
ACME_EMAIL=<VOTRE_EMAIL>

# ----- PostgreSQL -----
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=osfeed_db
POSTGRES_USER=osfeed_user
POSTGRES_PASSWORD=<MOT_DE_PASSE_POSTGRES_SECURISE>
POSTGRES_CONNECTION_STRING=postgresql://osfeed_user:<MOT_DE_PASSE_POSTGRES_SECURISE>@postgres:5432/osfeed_db

USE_SQLITE=false

# ----- Telegram API -----
# Obtenez vos credentials sur https://my.telegram.org
TELEGRAM_API_ID=<VOTRE_API_ID>
TELEGRAM_API_HASH=<VOTRE_API_HASH>
TELEGRAM_PHONE=<VOTRE_NUMERO_TELEPHONE>

# Rate limiting Telegram
TELEGRAM_MAX_RETRIES=5
TELEGRAM_BASE_DELAY=1.0
TELEGRAM_MAX_DELAY=300.0
TELEGRAM_JITTER=true
TELEGRAM_CONCURRENT_CHANNELS=3

# ----- Qdrant (Base vectorielle) -----
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=osfeed-embeddings
QDRANT_DISTANCE=cosine
QDRANT_TIMEOUT_SECONDS=5.0

# ----- Redis (Cache) -----
REDIS_URL=redis://redis:6379/0
REDIS_CACHE_TTL_SECONDS=86400

# ----- OpenAI (GPT-4o-mini) -----
OPENAI_API_KEY=<VOTRE_CLE_OPENAI>
OPENAI_MODEL=gpt-4o-mini

# ----- Gemini (traduction) -----
GEMINI_API_KEY=<VOTRE_CLE_GEMINI>
GEMINI_MODEL=gemini-2.0-flash

# ----- Translation Routing -----
TRANSLATION_DEFAULT_MODEL=gemini-flash
TRANSLATION_HIGH_PRIORITY_MODEL=gpt-4o-mini
TRANSLATION_CACHE_BASE_TTL=604800
TRANSLATION_CACHE_MAX_TTL=2592000

# ----- OpenRouter (Alternative LLM) -----
OPENROUTER_API_KEY=<VOTRE_CLE_OPENROUTER>
OPENROUTER_MODEL=meta-llama/llama-3.1-8b-instruct:free

# ----- Application -----
APP_ENV=production
APP_DEBUG=false
PREFERRED_LANGUAGE=fr
SUMMARY_TIME=08:00
SCHEDULER_ENABLED=true

# Audit logs
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_LOG_PURGE_TIME=02:30

# API usage tracking
API_USAGE_TRACKING_ENABLED=true
LLM_COST_INPUT_PER_1K=0.0
LLM_COST_OUTPUT_PER_1K=0.0

# ----- Authentification JWT -----
# IMPORTANT: Generez une cle securisee avec: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=<CLE_SECRETE_JWT_GENEREE>
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----- API Server -----
API_HOST=0.0.0.0
API_PORT=8000

# ----- Frontend -----
# Remplacez par votre vrai domaine
FRONTEND_URL=https://<VOTRE_DOMAINE>
VITE_API_URL=https://<VOTRE_DOMAINE>
